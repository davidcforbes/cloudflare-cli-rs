{"id":"cfad-jy7","title":"R2 Storage Support","description":"Implement comprehensive R2 object storage management for cfad CLI.\n\n## Overview\nR2 is Cloudflare's S3-compatible object storage with zero egress fees. This epic covers all R2 API functionality.\n\n## API Endpoints to Implement\n- Buckets (list, get, create, update, delete)\n- CORS management\n- Custom domains\n- Managed domains (r2.dev)\n- Lifecycle rules\n- Bucket locks\n- Metrics\n- Sippy (migration service)\n- Event notifications\n- Super Slurper (bulk migration)\n- Temporary credentials\n\n## Architecture\n- `src/api/r2.rs` - API models and types\n- `src/ops/r2.rs` - Business logic operations\n- `src/cli/r2.rs` - CLI command definitions\n- `src/output/r2.rs` - Output formatting\n\n## Acceptance Criteria\n- [ ] All R2 API endpoints implemented\n- [ ] CLI commands for all operations\n- [ ] Table, JSON, CSV output support\n- [ ] Comprehensive error handling\n- [ ] Unit and integration tests","status":"closed","priority":2,"issue_type":"epic","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:48:52.623337-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.2506902-08:00","closed_at":"2026-02-03T23:08:09.2506902-08:00","close_reason":"Closed"}
{"id":"cfad-jy7.1","title":"R2 Bucket Management","description":"Implement core R2 bucket CRUD operations.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/buckets - List all buckets\n- GET /accounts/{account_id}/r2/buckets/{bucket_name} - Get bucket properties\n- POST /accounts/{account_id}/r2/buckets - Create bucket\n- PATCH /accounts/{account_id}/r2/buckets/{bucket_name} - Update bucket properties\n- DELETE /accounts/{account_id}/r2/buckets/{bucket_name} - Delete bucket\n\n## CLI Commands\n- cfad r2 list - List all R2 buckets\n- cfad r2 show \u003cbucket\u003e - Show bucket details\n- cfad r2 create \u003cbucket\u003e --location \u003chint\u003e - Create new bucket\n- cfad r2 update \u003cbucket\u003e - Update bucket settings\n- cfad r2 delete \u003cbucket\u003e --confirm - Delete bucket\n\n## Bucket Properties\n- Name, location hint, storage class\n- Creation date, object count","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:50:32.6543893-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.2583116-08:00","closed_at":"2026-02-03T23:08:09.2583116-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.1","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:50:32.6559991-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.1.1","title":"Create R2 API models (src/api/r2.rs)","description":"Create the API data structures for R2 operations.\n\n## Models to Create\n- R2Bucket struct (name, creation_date, location)\n- CreateR2Bucket request struct\n- UpdateR2Bucket request struct\n- R2CorsRule struct\n- R2LifecycleRule struct\n- R2LockConfig struct\n- R2Metrics struct\n- R2TempCredentials struct\n\n## Reference\nFollow patterns from existing src/api/dns.rs and src/api/zone.rs for structure.","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:52:53.5662123-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.2698001-08:00","closed_at":"2026-02-03T23:08:09.2698001-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.1.1","depends_on_id":"cfad-jy7.1","type":"parent-child","created_at":"2026-02-03T22:52:53.5683316-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.1.2","title":"Create R2 bucket operations module (src/ops/r2.rs)","description":"Create the business logic layer for R2 bucket operations.\n\n## Functions to Implement\n- list_buckets(client, account_id) -\u003e Vec\u003cR2Bucket\u003e\n- get_bucket(client, account_id, bucket_name) -\u003e R2Bucket\n- create_bucket(client, account_id, name, location) -\u003e R2Bucket\n- update_bucket(client, account_id, bucket_name, updates) -\u003e R2Bucket\n- delete_bucket(client, account_id, bucket_name) -\u003e ()\n\n## Dependencies\n- Requires cfad-jy7.1.1 (R2 API models)","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:53:02.0071881-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.2821582-08:00","closed_at":"2026-02-03T23:08:09.2821582-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.1.2","depends_on_id":"cfad-jy7.1","type":"parent-child","created_at":"2026-02-03T22:53:02.0087802-08:00","created_by":"davidcforbes"},{"issue_id":"cfad-jy7.1.2","depends_on_id":"cfad-jy7.1.1","type":"blocks","created_at":"2026-02-03T22:53:02.0114179-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.1.3","title":"Create R2 CLI commands (src/cli/r2.rs)","description":"Create the CLI command definitions for R2 bucket operations.\n\n## Commands to Implement\n- cfad r2 list [--account-id \u003cid\u003e]\n- cfad r2 show \u003cbucket-name\u003e [--account-id \u003cid\u003e]\n- cfad r2 create \u003cbucket-name\u003e [--location \u003chint\u003e] [--account-id \u003cid\u003e]\n- cfad r2 update \u003cbucket-name\u003e [options]\n- cfad r2 delete \u003cbucket-name\u003e --confirm\n\n## Dependencies\n- Requires cfad-jy7.1.2 (R2 operations module)","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:53:09.7245003-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.2913864-08:00","closed_at":"2026-02-03T23:08:09.2913864-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.1.3","depends_on_id":"cfad-jy7.1","type":"parent-child","created_at":"2026-02-03T22:53:09.7261069-08:00","created_by":"davidcforbes"},{"issue_id":"cfad-jy7.1.3","depends_on_id":"cfad-jy7.1.2","type":"blocks","created_at":"2026-02-03T22:53:09.7451997-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.1.4","title":"Create R2 output formatting (src/output/r2.rs)","description":"Create output formatters for R2 data in table, JSON, and CSV formats.\n\n## Formatters to Implement\n- Table format for bucket list (name, location, created)\n- Table format for bucket details\n- JSON output for all R2 types\n- CSV output for bucket list\n\n## Dependencies\n- Requires cfad-jy7.1.1 (R2 API models)","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:53:17.4357807-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3032898-08:00","closed_at":"2026-02-03T23:08:09.3032898-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.1.4","depends_on_id":"cfad-jy7.1","type":"parent-child","created_at":"2026-02-03T22:53:17.4373701-08:00","created_by":"davidcforbes"},{"issue_id":"cfad-jy7.1.4","depends_on_id":"cfad-jy7.1.1","type":"blocks","created_at":"2026-02-03T22:53:17.4390339-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.10","title":"R2 Super Slurper (Bulk Migration)","description":"Implement R2 Super Slurper bulk migration job management.\n\n## Overview\nSuper Slurper performs bulk data migration from other cloud providers to R2.\n\n## API Endpoints\n### Connectivity Checks\n- PUT /accounts/{account_id}/slurper/source/connectivity-precheck - Verify source credentials\n- PUT /accounts/{account_id}/slurper/target/connectivity-precheck - Verify target credentials\n\n### Job Management\n- GET /accounts/{account_id}/slurper/jobs - List migration jobs\n- GET /accounts/{account_id}/slurper/jobs/{job_id} - Get job details\n- POST /accounts/{account_id}/slurper/jobs - Create migration job\n- PUT /accounts/{account_id}/slurper/jobs/abortAll - Abort all jobs\n- PUT /accounts/{account_id}/slurper/jobs/{job_id}/abort - Abort specific job\n- PUT /accounts/{account_id}/slurper/jobs/{job_id}/pause - Pause job\n- PUT /accounts/{account_id}/slurper/jobs/{job_id}/resume - Resume job\n- GET /accounts/{account_id}/slurper/jobs/{job_id}/progress - Get job progress\n- GET /accounts/{account_id}/slurper/jobs/{job_id}/logs - Get job logs\n\n## CLI Commands\n- cfad r2 migrate check-source --provider \u003caws|gcs|azure\u003e --credentials \u003c...\u003e - Verify source\n- cfad r2 migrate check-target --bucket \u003cbucket\u003e - Verify target\n- cfad r2 migrate list - List migration jobs\n- cfad r2 migrate show \u003cjob-id\u003e - Show job details\n- cfad r2 migrate create --source \u003cconfig\u003e --target \u003cbucket\u003e - Start migration\n- cfad r2 migrate pause \u003cjob-id\u003e - Pause migration\n- cfad r2 migrate resume \u003cjob-id\u003e - Resume migration\n- cfad r2 migrate abort \u003cjob-id\u003e - Abort migration\n- cfad r2 migrate progress \u003cjob-id\u003e - Show progress\n- cfad r2 migrate logs \u003cjob-id\u003e - Show migration logs","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:52:00.6503511-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3692547-08:00","closed_at":"2026-02-03T23:08:09.3692547-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.10","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:52:00.6525612-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.11","title":"R2 Temporary Credentials","description":"Implement R2 temporary credential generation.\n\n## API Endpoints\n- POST /accounts/{account_id}/r2/temp-access-credentials - Generate scoped temporary credentials\n\n## CLI Commands\n- cfad r2 temp-creds create --bucket \u003cbucket\u003e --duration \u003cduration\u003e - Create temp credentials\n- cfad r2 temp-creds create --bucket \u003cbucket\u003e --prefix \u003cprefix\u003e --permission \u003cread|write|readwrite\u003e - Scoped credentials\n\n## Features\n- Scoped to specific bucket or prefix\n- Configurable permission level (read/write/admin)\n- Configurable TTL\n- Output in AWS SDK compatible format\n- Support for presigned URL generation","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:52:10.0632438-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3747718-08:00","closed_at":"2026-02-03T23:08:09.3747718-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.11","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:52:10.0649487-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.2","title":"R2 CORS Management","description":"Implement R2 bucket CORS configuration management.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/buckets/{bucket_name}/cors - Get CORS policy\n- PUT /accounts/{account_id}/r2/buckets/{bucket_name}/cors - Set CORS policy\n- DELETE /accounts/{account_id}/r2/buckets/{bucket_name}/cors - Remove CORS policy\n\n## CLI Commands\n- cfad r2 cors show \u003cbucket\u003e - Show CORS configuration\n- cfad r2 cors set \u003cbucket\u003e --file \u003ccors.json\u003e - Set CORS from JSON file\n- cfad r2 cors set \u003cbucket\u003e --origin \u003corigin\u003e --methods \u003cmethods\u003e - Set simple CORS\n- cfad r2 cors delete \u003cbucket\u003e - Remove CORS configuration\n\n## CORS Rule Properties\n- Allowed origins, methods, headers\n- Exposed headers, max age","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:50:41.1018317-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3114413-08:00","closed_at":"2026-02-03T23:08:09.3114413-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.2","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:50:41.1033703-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.3","title":"R2 Custom Domains","description":"Implement R2 bucket custom domain management.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/buckets/{bucket_name}/domains/custom - List custom domains\n- GET /accounts/{account_id}/r2/buckets/{bucket_name}/domains/custom/{domain} - Get domain details\n- POST /accounts/{account_id}/r2/buckets/{bucket_name}/domains/custom - Register custom domain\n- PUT /accounts/{account_id}/r2/buckets/{bucket_name}/domains/custom/{domain} - Update domain config\n- DELETE /accounts/{account_id}/r2/buckets/{bucket_name}/domains/custom/{domain} - Remove custom domain\n\n## CLI Commands\n- cfad r2 domain list \u003cbucket\u003e - List custom domains\n- cfad r2 domain show \u003cbucket\u003e \u003cdomain\u003e - Show domain details\n- cfad r2 domain add \u003cbucket\u003e \u003cdomain\u003e - Register custom domain\n- cfad r2 domain update \u003cbucket\u003e \u003cdomain\u003e - Update domain config\n- cfad r2 domain delete \u003cbucket\u003e \u003cdomain\u003e - Remove custom domain\n\n## Features\n- Domain verification status\n- SSL/TLS configuration","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:50:50.33622-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3169911-08:00","closed_at":"2026-02-03T23:08:09.3169911-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.3","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:50:50.3378072-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.4","title":"R2 Managed Domain (r2.dev)","description":"Implement R2 managed r2.dev domain access management.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/buckets/{bucket_name}/domains/managed - Get r2.dev status\n- PUT /accounts/{account_id}/r2/buckets/{bucket_name}/domains/managed - Update r2.dev access\n\n## CLI Commands\n- cfad r2 public-access show \u003cbucket\u003e - Show r2.dev access status\n- cfad r2 public-access enable \u003cbucket\u003e - Enable public r2.dev access\n- cfad r2 public-access disable \u003cbucket\u003e - Disable public r2.dev access\n\n## Features\n- Toggle public access to bucket via r2.dev subdomain\n- Show public URL when enabled","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:50:59.0458374-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3233764-08:00","closed_at":"2026-02-03T23:08:09.3233764-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.4","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:50:59.0474452-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.5","title":"R2 Lifecycle Rules","description":"Implement R2 bucket lifecycle rule management.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/buckets/{bucket_name}/lifecycle - Get lifecycle config\n- PUT /accounts/{account_id}/r2/buckets/{bucket_name}/lifecycle - Set lifecycle rules\n\n## CLI Commands\n- cfad r2 lifecycle show \u003cbucket\u003e - Show lifecycle rules\n- cfad r2 lifecycle set \u003cbucket\u003e --file \u003clifecycle.json\u003e - Set from JSON file\n- cfad r2 lifecycle add \u003cbucket\u003e --prefix \u003cprefix\u003e --expiration \u003cdays\u003e - Add expiration rule\n- cfad r2 lifecycle add \u003cbucket\u003e --prefix \u003cprefix\u003e --transition \u003cclass\u003e \u003cdays\u003e - Add transition rule\n- cfad r2 lifecycle clear \u003cbucket\u003e - Remove all lifecycle rules\n\n## Rule Types\n- Object expiration (delete after N days)\n- Incomplete multipart upload cleanup\n- Transition to different storage classes\n- Non-current version expiration","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:51:08.2539738-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3312125-08:00","closed_at":"2026-02-03T23:08:09.3312125-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.5","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:51:08.2560635-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.6","title":"R2 Bucket Locks","description":"Implement R2 bucket lock (object lock) management.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/buckets/{bucket_name}/lock - Get lock configuration\n- PUT /accounts/{account_id}/r2/buckets/{bucket_name}/lock - Set lock configuration\n\n## CLI Commands\n- cfad r2 lock show \u003cbucket\u003e - Show lock configuration\n- cfad r2 lock enable \u003cbucket\u003e --mode \u003cgovernance|compliance\u003e --days \u003cdays\u003e - Enable object lock\n- cfad r2 lock disable \u003cbucket\u003e - Disable object lock (if allowed)\n\n## Lock Modes\n- Governance mode: Users with special permissions can delete\n- Compliance mode: Cannot be deleted until retention period expires\n- Default retention period configuration","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:51:18.9807481-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3387258-08:00","closed_at":"2026-02-03T23:08:09.3387258-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.6","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:51:18.9823482-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.7","title":"R2 Metrics","description":"Implement R2 storage metrics retrieval.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/metrics - Get storage/object count metrics across all buckets\n\n## CLI Commands\n- cfad r2 metrics - Show overall R2 metrics\n- cfad r2 metrics --bucket \u003cbucket\u003e - Show metrics for specific bucket (if supported)\n- cfad r2 metrics --period \u003c1d|7d|30d\u003e - Show metrics over time period\n\n## Metrics Included\n- Total storage used\n- Object count\n- Bandwidth usage\n- Request counts\n- Per-bucket breakdown","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:51:27.4180005-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3441049-08:00","closed_at":"2026-02-03T23:08:09.3441049-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.7","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:51:27.4195695-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.8","title":"R2 Sippy (Migration Service)","description":"Implement R2 Sippy incremental migration service management.\n\n## Overview\nSippy enables incremental migration from other S3-compatible providers to R2 by lazily copying objects on first access.\n\n## API Endpoints\n- GET /accounts/{account_id}/r2/buckets/{bucket_name}/sippy - Get Sippy configuration\n- PUT /accounts/{account_id}/r2/buckets/{bucket_name}/sippy - Configure Sippy\n- DELETE /accounts/{account_id}/r2/buckets/{bucket_name}/sippy - Disable Sippy\n\n## CLI Commands\n- cfad r2 sippy show \u003cbucket\u003e - Show Sippy configuration\n- cfad r2 sippy enable \u003cbucket\u003e --provider \u003caws|gcs|azure\u003e --source-bucket \u003cbucket\u003e - Enable Sippy\n- cfad r2 sippy disable \u003cbucket\u003e - Disable Sippy\n- cfad r2 sippy update \u003cbucket\u003e - Update Sippy configuration\n\n## Configuration Options\n- Source provider (AWS S3, GCS, Azure Blob, etc.)\n- Source bucket and region\n- Source credentials (access key, secret key)\n- Copy-on-miss behavior","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:51:38.1495308-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3515601-08:00","closed_at":"2026-02-03T23:08:09.3515601-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.8","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:51:38.1510819-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-jy7.9","title":"R2 Event Notifications","description":"Implement R2 bucket event notification management.\n\n## API Endpoints\n- GET /accounts/{account_id}/event_notifications/r2/{bucket_name}/configuration - List notification rules\n- GET /accounts/{account_id}/event_notifications/r2/{bucket_name}/configuration/queues/{queue_id} - Get specific rule\n- PUT /accounts/{account_id}/event_notifications/r2/{bucket_name}/configuration/queues/{queue_id} - Create notification rule\n- DELETE /accounts/{account_id}/event_notifications/r2/{bucket_name}/configuration/queues/{queue_id} - Delete notification rule\n\n## CLI Commands\n- cfad r2 notifications list \u003cbucket\u003e - List notification rules\n- cfad r2 notifications show \u003cbucket\u003e \u003cqueue-id\u003e - Show rule details\n- cfad r2 notifications create \u003cbucket\u003e --queue \u003cqueue-id\u003e --events \u003cevents\u003e - Create notification\n- cfad r2 notifications delete \u003cbucket\u003e \u003cqueue-id\u003e - Delete notification rule\n\n## Event Types\n- object:create (PUT, POST, COPY)\n- object:delete\n- object:lifecycle-transition\n- Prefix/suffix filtering","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:51:47.9354046-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:09.3604927-08:00","closed_at":"2026-02-03T23:08:09.3604927-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-jy7.9","depends_on_id":"cfad-jy7","type":"parent-child","created_at":"2026-02-03T22:51:47.9370102-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk","title":"D1 Database Support","description":"Implement comprehensive D1 database management for cfad CLI.\n\n## Overview\nD1 is Cloudflare's serverless SQLite database. This epic covers all D1 API functionality.\n\n## API Endpoints to Implement\n- Database CRUD (list, get, create, update, patch, delete)\n- Query operations (query, raw)\n- Data management (export, import)\n- Time Travel (bookmark, restore)\n\n## Architecture\n- `src/api/d1.rs` - API models and types\n- `src/ops/d1.rs` - Business logic operations\n- `src/cli/d1.rs` - CLI command definitions\n- `src/output/d1.rs` - Output formatting\n\n## Acceptance Criteria\n- [ ] All D1 API endpoints implemented\n- [ ] CLI commands for all operations\n- [ ] Table, JSON, CSV output support\n- [ ] Comprehensive error handling\n- [ ] Unit and integration tests","status":"closed","priority":2,"issue_type":"epic","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:48:49.115124-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.612469-08:00","closed_at":"2026-02-03T23:08:05.612469-08:00","close_reason":"Closed"}
{"id":"cfad-ykk.1","title":"D1 Database CRUD Operations","description":"Implement core D1 database management operations.\n\n## API Endpoints\n- GET /accounts/{account_id}/d1/database - List databases\n- GET /accounts/{account_id}/d1/database/{database_id} - Get database details\n- POST /accounts/{account_id}/d1/database - Create database\n- PUT /accounts/{account_id}/d1/database/{database_id} - Full update database\n- PATCH /accounts/{account_id}/d1/database/{database_id} - Partial update database\n- DELETE /accounts/{account_id}/d1/database/{database_id} - Delete database\n\n## CLI Commands\n- cfad d1 list - List all D1 databases\n- cfad d1 show \u003cdb-id\u003e - Show database details\n- cfad d1 create \u003cname\u003e - Create new database\n- cfad d1 update \u003cdb-id\u003e - Update database\n- cfad d1 delete \u003cdb-id\u003e - Delete database","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:49:51.5541332-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6216372-08:00","closed_at":"2026-02-03T23:08:05.6216372-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.1","depends_on_id":"cfad-ykk","type":"parent-child","created_at":"2026-02-03T22:49:51.5562309-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk.1.1","title":"Create D1 API models (src/api/d1.rs)","description":"Create the API data structures for D1 operations.\n\n## Models to Create\n- D1Database struct (id, name, version, created_at, file_size, num_tables)\n- CreateD1Database request struct\n- UpdateD1Database request struct\n- D1QueryResult struct for query responses\n- D1QueryMeta struct (timing, rows affected, etc.)\n\n## Reference\nFollow patterns from existing src/api/dns.rs and src/api/zone.rs for structure.","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:52:20.0585389-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6309982-08:00","closed_at":"2026-02-03T23:08:05.6309982-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.1.1","depends_on_id":"cfad-ykk.1","type":"parent-child","created_at":"2026-02-03T22:52:20.0612283-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk.1.2","title":"Create D1 operations module (src/ops/d1.rs)","description":"Create the business logic layer for D1 operations.\n\n## Functions to Implement\n- list_databases(client, account_id) -\u003e Vec\u003cD1Database\u003e\n- get_database(client, account_id, database_id) -\u003e D1Database\n- create_database(client, account_id, name) -\u003e D1Database\n- update_database(client, account_id, database_id, updates) -\u003e D1Database\n- delete_database(client, account_id, database_id) -\u003e ()\n\n## Dependencies\n- Requires cfad-ykk.1.1 (D1 API models)","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:52:28.4703947-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6394731-08:00","closed_at":"2026-02-03T23:08:05.6394731-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.1.2","depends_on_id":"cfad-ykk.1","type":"parent-child","created_at":"2026-02-03T22:52:28.4724841-08:00","created_by":"davidcforbes"},{"issue_id":"cfad-ykk.1.2","depends_on_id":"cfad-ykk.1.1","type":"blocks","created_at":"2026-02-03T22:52:28.4740781-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk.1.3","title":"Create D1 CLI commands (src/cli/d1.rs)","description":"Create the CLI command definitions for D1 operations.\n\n## Commands to Implement\n- cfad d1 list [--account-id \u003cid\u003e]\n- cfad d1 show \u003cdatabase-id\u003e [--account-id \u003cid\u003e]\n- cfad d1 create \u003cname\u003e [--account-id \u003cid\u003e]\n- cfad d1 update \u003cdatabase-id\u003e [--name \u003cname\u003e]\n- cfad d1 delete \u003cdatabase-id\u003e --confirm\n\n## Dependencies\n- Requires cfad-ykk.1.2 (D1 operations module)","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:52:37.0185949-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6465724-08:00","closed_at":"2026-02-03T23:08:05.6465724-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.1.3","depends_on_id":"cfad-ykk.1","type":"parent-child","created_at":"2026-02-03T22:52:37.0201336-08:00","created_by":"davidcforbes"},{"issue_id":"cfad-ykk.1.3","depends_on_id":"cfad-ykk.1.2","type":"blocks","created_at":"2026-02-03T22:52:37.0223944-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk.1.4","title":"Create D1 output formatting (src/output/d1.rs)","description":"Create output formatters for D1 data in table, JSON, and CSV formats.\n\n## Formatters to Implement\n- Table format for database list (id, name, tables, size, created)\n- Table format for database details\n- JSON output for all D1 types\n- CSV output for database list\n\n## Dependencies\n- Requires cfad-ykk.1.1 (D1 API models)","status":"closed","priority":2,"issue_type":"task","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:52:45.5217615-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6567776-08:00","closed_at":"2026-02-03T23:08:05.6567776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.1.4","depends_on_id":"cfad-ykk.1","type":"parent-child","created_at":"2026-02-03T22:52:45.5238381-08:00","created_by":"davidcforbes"},{"issue_id":"cfad-ykk.1.4","depends_on_id":"cfad-ykk.1.1","type":"blocks","created_at":"2026-02-03T22:52:45.5260409-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk.2","title":"D1 Query Operations","description":"Implement D1 SQL query execution capabilities.\n\n## API Endpoints\n- POST /accounts/{account_id}/d1/database/{database_id}/query - Execute query (returns objects)\n- POST /accounts/{account_id}/d1/database/{database_id}/raw - Execute query (returns arrays, optimized)\n\n## CLI Commands\n- cfad d1 query \u003cdb-id\u003e \u003csql\u003e - Execute SQL query\n- cfad d1 query \u003cdb-id\u003e --file \u003cfile.sql\u003e - Execute SQL from file\n- cfad d1 raw \u003cdb-id\u003e \u003csql\u003e - Execute raw query (array format)\n\n## Features\n- Support for parameterized queries\n- Multiple statement execution\n- Output in table/JSON/CSV formats\n- Query result pagination","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:50:01.6110407-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6654152-08:00","closed_at":"2026-02-03T23:08:05.6654152-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.2","depends_on_id":"cfad-ykk","type":"parent-child","created_at":"2026-02-03T22:50:01.6131019-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk.3","title":"D1 Import/Export Operations","description":"Implement D1 database import and export functionality.\n\n## API Endpoints\n- POST /accounts/{account_id}/d1/database/{database_id}/export - Export database to SQL\n- POST /accounts/{account_id}/d1/database/{database_id}/import - Import SQL into database\n\n## CLI Commands\n- cfad d1 export \u003cdb-id\u003e --output \u003cfile.sql\u003e - Export database to SQL file\n- cfad d1 import \u003cdb-id\u003e --file \u003cfile.sql\u003e - Import SQL file into database\n\n## Features\n- Progress indication for large exports/imports\n- Streaming download for exports\n- Support for gzip compressed files\n- Validation before import","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:50:13.5845766-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6746999-08:00","closed_at":"2026-02-03T23:08:05.6746999-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.3","depends_on_id":"cfad-ykk","type":"parent-child","created_at":"2026-02-03T22:50:13.5861513-08:00","created_by":"davidcforbes"}]}
{"id":"cfad-ykk.4","title":"D1 Time Travel Operations","description":"Implement D1 Time Travel point-in-time recovery functionality.\n\n## API Endpoints\n- GET /accounts/{account_id}/d1/database/{database_id}/time_travel/bookmark - Get current or nearest prior bookmark\n- POST /accounts/{account_id}/d1/database/{database_id}/time_travel/restore - Restore to previous point in time\n\n## CLI Commands\n- cfad d1 bookmark \u003cdb-id\u003e - Show current bookmark\n- cfad d1 bookmark \u003cdb-id\u003e --timestamp \u003cts\u003e - Get nearest bookmark to timestamp\n- cfad d1 restore \u003cdb-id\u003e --bookmark \u003cid\u003e - Restore database to bookmark\n- cfad d1 restore \u003cdb-id\u003e --timestamp \u003cts\u003e - Restore database to timestamp\n\n## Features\n- List available restore points\n- Preview restore operation\n- Confirmation prompt for destructive operations","status":"closed","priority":2,"issue_type":"feature","owner":"davidcforbes@aol.com","created_at":"2026-02-03T22:50:23.4690601-08:00","created_by":"davidcforbes","updated_at":"2026-02-03T23:08:05.6804436-08:00","closed_at":"2026-02-03T23:08:05.6804436-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cfad-ykk.4","depends_on_id":"cfad-ykk","type":"parent-child","created_at":"2026-02-03T22:50:23.4707443-08:00","created_by":"davidcforbes"}]}
